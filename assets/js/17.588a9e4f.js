(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{260:function(t,a,e){"use strict";e.r(a);var s=e(29),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"操作示例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#操作示例"}},[t._v("#")]),t._v(" 操作示例")]),t._v(" "),e("h2",{attrs:{id:"搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#搭建"}},[t._v("#")]),t._v(" 搭建")]),t._v(" "),e("ol",[e("li",[t._v("全局安装 hexo")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果 npm 安装缓慢可以使用淘宝镜像加速：npm config set registry https://registry.npm.taobao.org")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g hexo\n")])])]),e("p",[t._v("安装以后命令行终端输入 "),e("code",[t._v("hexo -v")]),t._v("，如果显示 hexo 信息，则安装成功。")]),t._v(" "),e("p",[t._v("接下来初始化 hexo，在空文件夹（不能有任何文件，包括隐藏文件）执行命令 "),e("code",[t._v("hexo init")]),t._v("。成功后的目录结构：")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("│  .gitignore\n│  package.json\n│  yarn.lock\n│  _config.yml\n├─node_modules\n├─scaffolds\n│     draft.md\n│     page.md\n│     post.md\n├─source\n│  └─_posts\n│       hello-world.md\n└─themes\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[t._v("安装 fluid 主题")])]),t._v(" "),e("p",[t._v("下载"),e("a",{attrs:{href:"https://github.com/fluid-dev/hexo-theme-fluid/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("最新版"),e("OutboundLink")],1),t._v("并解压到 themes 目录下，重命名为 fluid，然后在博客 _config.yml 设置如下：")]),t._v(" "),e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Extensions")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Plugins: https://hexo.io/plugins/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Themes: https://hexo.io/themes/")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("theme")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fluid\n")])])]),e("h2",{attrs:{id:"配置（重点）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置（重点）"}},[t._v("#")]),t._v(" 配置（重点）")]),t._v(" "),e("p",[t._v("推荐使用"),e("RouterLink",{attrs:{to:"/guide/#覆盖配置"}},[t._v("覆盖设置")]),t._v("功能，可以在主题目录之外自定义 config，不用担心更新主题时丢失配置。")],1),t._v(" "),e("p",[t._v("在博客 source 目录中新建 "),e("code",[t._v("_data")]),t._v(" 目录（不是主题的 source），再新建两个配置文件：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("fluid_config.yml    # 主题配置在这里修改\nfluid_static_prefix.yml # 静态资源配置在这里修改\n")])])]),e("p",[t._v("这样主题就会有两个配置文件：")]),t._v(" "),e("ol",[e("li",[t._v("/source/_data/fluid_config.yml")]),t._v(" "),e("li",[t._v("/themes/fluid/_config.yml")])]),t._v(" "),e("p",[t._v("1 的优先级高于 2，即 1 中的配置会覆盖掉 2 中同名配置项。")]),t._v(" "),e("h2",{attrs:{id:"本地调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地调试"}},[t._v("#")]),t._v(" 本地调试")]),t._v(" "),e("p",[t._v("第一次运行应用先要安装依赖")]),t._v(" "),e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下面二选一")]),t._v("\nnpm install\n\nyarn install\n")])])]),e("p",[t._v("（演示将以 yarn 作为安装工具，可自行替换为 npm）启动服务，用于调试")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 三选一")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run server\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" run server\nhexo s "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hexo server 的简写")]),t._v("\n")])])]),e("h2",{attrs:{id:"生成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生成"}},[t._v("#")]),t._v(" 生成")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("hexo clean "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" hexo g\n")])])]),e("h2",{attrs:{id:"压缩（可选）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#压缩（可选）"}},[t._v("#")]),t._v(" 压缩（可选）")]),t._v(" "),e("p",[t._v("可以使用 "),e("a",{attrs:{href:"https://github.com/chenzhutian/hexo-all-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-all-minifier"),e("OutboundLink")],1),t._v(" 插件对生成的文件和图片进行压缩，大致步骤：")]),t._v(" "),e("p",[t._v("先安装插件：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i hexo-all-minifier --save\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Mac 系统还需要额外安装")]),t._v("\nbrew "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" libtool automake autoconf nasm\n")])])]),e("p",[t._v("然后在博客配置中加入：")]),t._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("all_minifier")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])])]),e("p",[t._v("这样即可快速使用。")]),t._v(" "),e("p",[t._v("具体的细节配置可参考"),e("a",{attrs:{href:"https://github.com/chenzhutian/hexo-all-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"使用-jsdelivr-服务（可选）"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-jsdelivr-服务（可选）"}},[t._v("#")]),t._v(" 使用 jsDelivr 服务（可选）")]),t._v(" "),e("p",[t._v("插入来自 Github 仓库的图片，由于网络情况可能会出现加载慢和无法加载的情况，我们可以使用 "),e("a",{attrs:{href:"https://www.jsdelivr.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsDelivr"),e("OutboundLink")],1),t._v(" 来加速图片文件等媒体文件的加载。")]),t._v(" "),e("p",[t._v("通常情况下，可以新建一个仓库来存放这些文件，目前已知的有图片、视频和引用的相关文件可以使用，Github 仓库最大上传文件为 25M，请注意文件大小。")]),t._v(" "),e("p",[t._v("使用方法（文件的绝对地址）")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://cdn.jsdelivr.net/gh/user/repo@version/file\n")])])]),e("p",[t._v("相关实例（博客仓库下 master 分支里 favicon 图片文件）")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("https://cdn.jsdelivr.net/gh/fluid-dev/hexo-theme-fluid@master/source/img/favicon.png\n")])])]),e("h2",{attrs:{id:"部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),e("p",[t._v("这里演示如何部署到 GitHub Pages 中。")]),t._v(" "),e("p",[t._v("在博客配置中设置部署仓库，参考如下：")]),t._v(" "),e("div",{staticClass:"language-yml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Deployment")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## Docs: https://hexo.io/docs/deployment.html")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("deploy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" git\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("repo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" git@github.com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("username/username.github.io.git\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" master\n")])])]),e("p",[t._v("将你的 ssh 密钥上传到远程仓库，如果未设置则需要手工输入用户名和密码。然在终端命令行：")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("hexo d\n")])])]),e("h2",{attrs:{id:"更新主题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新主题"}},[t._v("#")]),t._v(" 更新主题")]),t._v(" "),e("h3",{attrs:{id:"方法一"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方法一"}},[t._v("#")]),t._v(" 方法一")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("适用于没有自行修改任何代码的情况（配置文件除外）")])]),t._v(" "),e("ol",[e("li",[e("p",[t._v("将自己的配置文件备份（如果完整使用"),e("RouterLink",{attrs:{to:"/guide/#覆盖配置"}},[t._v("覆盖配置")]),t._v("功能可忽略此步骤）")],1)]),t._v(" "),e("li",[e("p",[t._v("将 fluid 文件夹全部删除，重新下载 "),e("a",{attrs:{href:"https://github.com/fluid-dev/hexo-theme-fluid/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("release"),e("OutboundLink")],1),t._v(" 并解压")])]),t._v(" "),e("li",[e("p",[t._v("如果某些配置发生了变化（改名或弃用），release 的说明里会特别提示，同步修改原配置文件即可。")])])]),t._v(" "),e("h3",{attrs:{id:"方法二"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方法二"}},[t._v("#")]),t._v(" 方法二")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("适用于自定义了一些代码，或想体验 master 分支的情况")])]),t._v(" "),e("ol",[e("li",[e("p",[t._v("确定自己的 fluid 目录已经开启 git，并且所有改动都已 commit")])]),t._v(" "),e("li",[e("p",[t._v("把 fluid 仓库的 master 分支拉取到自己的分支上（可新建一个分支再拉取）")])])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull https://github.com/fluid-dev/hexo-theme-fluid.git master\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[t._v("解决代码冲突，保留自己修改的部分（如何解决冲突可自行搜索）")])]),t._v(" "),e("h2",{attrs:{id:"加快网页加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加快网页加载"}},[t._v("#")]),t._v(" 加快网页加载")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("对于所有用户，将各种第三方库配置公共 CDN 是最有效的方式，可以通过配置 "),e("code",[t._v("_static_prefix.yml")]),t._v(" 来链接（默认已经使用 staticfile CDN，国内用户可不做改动）；")])]),t._v(" "),e("li",[e("p",[t._v("如果你的域名已备案，可以使用"),e("a",{attrs:{href:"https://portal.qiniu.com/signup?code=1hlwhx3ztjz2q",target:"_blank",rel:"noopener noreferrer"}},[t._v("七牛云"),e("OutboundLink")],1),t._v("、阿里云、腾讯云等大厂的 OSS 服务并绑定域名，将生成后的 public 目录下全部上传到 OSS，然后你不仅可以无服务器部署博客，加载速度也将无可比拟；")])]),t._v(" "),e("li",[e("p",[t._v("没有备案，也可以通过香港及海外地区的云，或者私有 CDN 等方式进行加速，推荐一份 "),e("a",{attrs:{href:"https://www.julydate.com/post/60859300",target:"_blank",rel:"noopener noreferrer"}},[t._v("CDN 使用指南"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("li",[e("p",[t._v("如果图片是存在 source 目录中，建议搭配 "),e("a",{attrs:{href:"https://github.com/chenzhutian/hexo-all-minifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-all-minifier"),e("OutboundLink")],1),t._v(" 插件，可自动对图片进行压缩；")])]),t._v(" "),e("li",[e("p",[t._v("如果是存放在外部的图片，建议先使用 "),e("a",{attrs:{href:"https://tinypng.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("tinypng"),e("OutboundLink")],1),t._v(" 进行压缩。")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);